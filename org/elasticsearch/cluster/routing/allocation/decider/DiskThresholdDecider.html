<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_65) on Wed Mar 25 15:07:11 EDT 2015 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>DiskThresholdDecider (elasticsearch 1.4.5-SNAPSHOT API)</title>
<meta name="date" content="2015-03-25">
<link rel="stylesheet" type="text/css" href="../../../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="DiskThresholdDecider (elasticsearch 1.4.5-SNAPSHOT API)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DiskThresholdDecider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html" target="_top">Frames</a></li>
<li><a href="DiskThresholdDecider.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">org.elasticsearch.cluster.routing.allocation.decider</div>
<h2 title="Class DiskThresholdDecider" class="title">Class DiskThresholdDecider</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">java.lang.Object</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/elasticsearch/common/component/AbstractComponent.html" title="class in org.elasticsearch.common.component">org.elasticsearch.common.component.AbstractComponent</a></li>
<li>
<ul class="inheritance">
<li><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">org.elasticsearch.cluster.routing.allocation.decider.AllocationDecider</a></li>
<li>
<ul class="inheritance">
<li>org.elasticsearch.cluster.routing.allocation.decider.DiskThresholdDecider</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">DiskThresholdDecider</span>
extends <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">AllocationDecider</a></pre>
<div class="block">The <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><code>DiskThresholdDecider</code></a> checks that the node a shard is potentially
 being allocated to has enough disk space.

 It has three configurable settings, all of which can be changed dynamically:

 <code>cluster.routing.allocation.disk.watermark.low</code> is the low disk
 watermark. New shards will not allocated to a node with usage higher than this,
 although this watermark may be passed by allocating a shard. It defaults to
 0.85 (85.0%).

 <code>cluster.routing.allocation.disk.watermark.high</code> is the high disk
 watermark. If a node has usage higher than this, shards are not allowed to
 remain on the node. In addition, if allocating a shard to a node causes the
 node to pass this watermark, it will not be allowed. It defaults to
 0.90 (90.0%).

 Both watermark settings are expressed in terms of used disk percentage, or
 exact byte values for free space (like "500mb")

 <code>cluster.routing.allocation.disk.threshold_enabled</code> is used to
 enable or disable this decider. It defaults to false (disabled).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED">CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#CLUSTER_ROUTING_ALLOCATION_HIGH_DISK_WATERMARK">CLUSTER_ROUTING_ALLOCATION_HIGH_DISK_WATERMARK</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#CLUSTER_ROUTING_ALLOCATION_INCLUDE_RELOCATIONS">CLUSTER_ROUTING_ALLOCATION_INCLUDE_RELOCATIONS</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#CLUSTER_ROUTING_ALLOCATION_LOW_DISK_WATERMARK">CLUSTER_ROUTING_ALLOCATION_LOW_DISK_WATERMARK</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#CLUSTER_ROUTING_ALLOCATION_REROUTE_INTERVAL">CLUSTER_ROUTING_ALLOCATION_REROUTE_INTERVAL</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#NAME">NAME</a></strong></code>&nbsp;</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="fields_inherited_from_class_org.elasticsearch.common.component.AbstractComponent">
<!--   -->
</a>
<h3>Fields inherited from class&nbsp;org.elasticsearch.common.component.<a href="../../../../../../org/elasticsearch/common/component/AbstractComponent.html" title="class in org.elasticsearch.common.component">AbstractComponent</a></h3>
<code><a href="../../../../../../org/elasticsearch/common/component/AbstractComponent.html#componentSettings">componentSettings</a>, <a href="../../../../../../org/elasticsearch/common/component/AbstractComponent.html#logger">logger</a>, <a href="../../../../../../org/elasticsearch/common/component/AbstractComponent.html#settings">settings</a></code></li>
</ul>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#DiskThresholdDecider(org.elasticsearch.common.settings.Settings)">DiskThresholdDecider</a></strong>(<a href="../../../../../../org/elasticsearch/common/settings/Settings.html" title="interface in org.elasticsearch.common.settings">Settings</a>&nbsp;settings)</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#DiskThresholdDecider(org.elasticsearch.common.settings.Settings,%20org.elasticsearch.node.settings.NodeSettingsService,%20org.elasticsearch.cluster.ClusterInfoService,%20org.elasticsearch.client.Client)">DiskThresholdDecider</a></strong>(<a href="../../../../../../org/elasticsearch/common/settings/Settings.html" title="interface in org.elasticsearch.common.settings">Settings</a>&nbsp;settings,
                    <a href="../../../../../../org/elasticsearch/node/settings/NodeSettingsService.html" title="class in org.elasticsearch.node.settings">NodeSettingsService</a>&nbsp;nodeSettingsService,
                    <a href="../../../../../../org/elasticsearch/cluster/ClusterInfoService.html" title="interface in org.elasticsearch.cluster">ClusterInfoService</a>&nbsp;infoService,
                    <a href="../../../../../../org/elasticsearch/client/Client.html" title="interface in org.elasticsearch.client">Client</a>&nbsp;client)</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/elasticsearch/cluster/DiskUsage.html" title="class in org.elasticsearch.cluster">DiskUsage</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#averageUsage(org.elasticsearch.cluster.routing.RoutingNode,%20java.util.Map)">averageUsage</a></strong>(<a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node,
            <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../org/elasticsearch/cluster/DiskUsage.html" title="class in org.elasticsearch.cluster">DiskUsage</a>&gt;&nbsp;usages)</code>
<div class="block">Returns a <a href="../../../../../../org/elasticsearch/cluster/DiskUsage.html" title="class in org.elasticsearch.cluster"><code>DiskUsage</code></a> for the <a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing"><code>RoutingNode</code></a> using the
 average usage of other nodes in the disk usage map.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">Decision</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#canAllocate(org.elasticsearch.cluster.routing.ShardRouting,%20org.elasticsearch.cluster.routing.RoutingNode,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">canAllocate</a></strong>(<a href="../../../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="interface in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;shardRouting,
           <a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node,
           <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/RoutingAllocation.html" title="class in org.elasticsearch.cluster.routing.allocation">RoutingAllocation</a>&nbsp;allocation)</code>
<div class="block">Returns a <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><code>Decision</code></a> whether the given shard routing can be
 allocated on the given node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">Decision</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#canRemain(org.elasticsearch.cluster.routing.ShardRouting,%20org.elasticsearch.cluster.routing.RoutingNode,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">canRemain</a></strong>(<a href="../../../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="interface in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;shardRouting,
         <a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node,
         <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/RoutingAllocation.html" title="class in org.elasticsearch.cluster.routing.allocation">RoutingAllocation</a>&nbsp;allocation)</code>
<div class="block">Returns a <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><code>Decision</code></a> whether the given shard routing can be remain
 on the given node.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#freeDiskPercentageAfterShardAssigned(org.elasticsearch.cluster.DiskUsage,%20java.lang.Long)">freeDiskPercentageAfterShardAssigned</a></strong>(<a href="../../../../../../org/elasticsearch/cluster/DiskUsage.html" title="class in org.elasticsearch.cluster">DiskUsage</a>&nbsp;usage,
                                    <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;shardSize)</code>
<div class="block">Given the DiskUsage for a node and the size of the shard, return the
 percentage of free disk if the shard were to be allocated to the node.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>long</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#sizeOfRelocatingShards(org.elasticsearch.cluster.routing.RoutingNode,%20java.util.Map,%20boolean)">sizeOfRelocatingShards</a></strong>(<a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node,
                      <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;shardSizes,
                      boolean&nbsp;subtractShardsMovingAway)</code>
<div class="block">Returns the size of all shards that are currently being relocated to
 the node, but may not be finished transfering yet.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../../../org/elasticsearch/common/unit/ByteSizeValue.html" title="class in org.elasticsearch.common.unit">ByteSizeValue</a></code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#thresholdBytesFromWatermark(java.lang.String)">thresholdBytesFromWatermark</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;watermark)</code>
<div class="block">Attempts to parse the watermark into a <a href="../../../../../../org/elasticsearch/common/unit/ByteSizeValue.html" title="class in org.elasticsearch.common.unit"><code>ByteSizeValue</code></a>, returning
 a ByteSizeValue of 0 bytes if the value cannot be parsed.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>double</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#thresholdPercentageFromWatermark(java.lang.String)">thresholdPercentageFromWatermark</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;watermark)</code>
<div class="block">Attempts to parse the watermark into a percentage, returning 100.0% if
 it cannot be parsed.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html#validWatermarkSetting(java.lang.String)">validWatermarkSetting</a></strong>(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;watermark)</code>
<div class="block">Checks if a watermark string is a valid percentage or byte size value,
 returning true if valid, false if invalid.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.elasticsearch.cluster.routing.allocation.decider.AllocationDecider">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.elasticsearch.cluster.routing.allocation.decider.<a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">AllocationDecider</a></h3>
<code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html#canAllocate(org.elasticsearch.cluster.routing.RoutingNode,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">canAllocate</a>, <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html#canAllocate(org.elasticsearch.cluster.routing.ShardRouting,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">canAllocate</a>, <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html#canRebalance(org.elasticsearch.cluster.routing.ShardRouting,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">canRebalance</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_org.elasticsearch.common.component.AbstractComponent">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;org.elasticsearch.common.component.<a href="../../../../../../org/elasticsearch/common/component/AbstractComponent.html" title="class in org.elasticsearch.common.component">AbstractComponent</a></h3>
<code><a href="../../../../../../org/elasticsearch/common/component/AbstractComponent.html#nodeName()">nodeName</a></code></li>
</ul>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true" title="class or interface in java.lang">Object</a></h3>
<code><a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#clone()" title="class or interface in java.lang">clone</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#equals(java.lang.Object)" title="class or interface in java.lang">equals</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#finalize()" title="class or interface in java.lang">finalize</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#getClass()" title="class or interface in java.lang">getClass</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#hashCode()" title="class or interface in java.lang">hashCode</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notify()" title="class or interface in java.lang">notify</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#notifyAll()" title="class or interface in java.lang">notifyAll</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#toString()" title="class or interface in java.lang">toString</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait()" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long)" title="class or interface in java.lang">wait</a>, <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Object.html?is-external=true#wait(long,%20int)" title="class or interface in java.lang">wait</a></code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="NAME">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>NAME</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> NAME</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.elasticsearch.cluster.routing.allocation.decider.DiskThresholdDecider.NAME">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.elasticsearch.cluster.routing.allocation.decider.DiskThresholdDecider.CLUSTER_ROUTING_ALLOCATION_DISK_THRESHOLD_ENABLED">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CLUSTER_ROUTING_ALLOCATION_LOW_DISK_WATERMARK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLUSTER_ROUTING_ALLOCATION_LOW_DISK_WATERMARK</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> CLUSTER_ROUTING_ALLOCATION_LOW_DISK_WATERMARK</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.elasticsearch.cluster.routing.allocation.decider.DiskThresholdDecider.CLUSTER_ROUTING_ALLOCATION_LOW_DISK_WATERMARK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CLUSTER_ROUTING_ALLOCATION_HIGH_DISK_WATERMARK">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLUSTER_ROUTING_ALLOCATION_HIGH_DISK_WATERMARK</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> CLUSTER_ROUTING_ALLOCATION_HIGH_DISK_WATERMARK</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.elasticsearch.cluster.routing.allocation.decider.DiskThresholdDecider.CLUSTER_ROUTING_ALLOCATION_HIGH_DISK_WATERMARK">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CLUSTER_ROUTING_ALLOCATION_INCLUDE_RELOCATIONS">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CLUSTER_ROUTING_ALLOCATION_INCLUDE_RELOCATIONS</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> CLUSTER_ROUTING_ALLOCATION_INCLUDE_RELOCATIONS</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.elasticsearch.cluster.routing.allocation.decider.DiskThresholdDecider.CLUSTER_ROUTING_ALLOCATION_INCLUDE_RELOCATIONS">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CLUSTER_ROUTING_ALLOCATION_REROUTE_INTERVAL">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CLUSTER_ROUTING_ALLOCATION_REROUTE_INTERVAL</h4>
<pre>public static final&nbsp;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a> CLUSTER_ROUTING_ALLOCATION_REROUTE_INTERVAL</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../../../constant-values.html#org.elasticsearch.cluster.routing.allocation.decider.DiskThresholdDecider.CLUSTER_ROUTING_ALLOCATION_REROUTE_INTERVAL">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="DiskThresholdDecider(org.elasticsearch.common.settings.Settings)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>DiskThresholdDecider</h4>
<pre>public&nbsp;DiskThresholdDecider(<a href="../../../../../../org/elasticsearch/common/settings/Settings.html" title="interface in org.elasticsearch.common.settings">Settings</a>&nbsp;settings)</pre>
</li>
</ul>
<a name="DiskThresholdDecider(org.elasticsearch.common.settings.Settings, org.elasticsearch.node.settings.NodeSettingsService, org.elasticsearch.cluster.ClusterInfoService, org.elasticsearch.client.Client)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>DiskThresholdDecider</h4>
<pre><a href="../../../../../../org/elasticsearch/common/inject/Inject.html" title="annotation in org.elasticsearch.common.inject">@Inject</a>
public&nbsp;DiskThresholdDecider(<a href="../../../../../../org/elasticsearch/common/settings/Settings.html" title="interface in org.elasticsearch.common.settings">Settings</a>&nbsp;settings,
                           <a href="../../../../../../org/elasticsearch/node/settings/NodeSettingsService.html" title="class in org.elasticsearch.node.settings">NodeSettingsService</a>&nbsp;nodeSettingsService,
                           <a href="../../../../../../org/elasticsearch/cluster/ClusterInfoService.html" title="interface in org.elasticsearch.cluster">ClusterInfoService</a>&nbsp;infoService,
                           <a href="../../../../../../org/elasticsearch/client/Client.html" title="interface in org.elasticsearch.client">Client</a>&nbsp;client)</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="sizeOfRelocatingShards(org.elasticsearch.cluster.routing.RoutingNode, java.util.Map, boolean)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>sizeOfRelocatingShards</h4>
<pre>public&nbsp;long&nbsp;sizeOfRelocatingShards(<a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node,
                          <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&gt;&nbsp;shardSizes,
                          boolean&nbsp;subtractShardsMovingAway)</pre>
<div class="block">Returns the size of all shards that are currently being relocated to
 the node, but may not be finished transfering yet.

 If subtractShardsMovingAway is set then the size of shards moving away is subtracted from the total size
 of all shards</div>
</li>
</ul>
<a name="canAllocate(org.elasticsearch.cluster.routing.ShardRouting, org.elasticsearch.cluster.routing.RoutingNode, org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canAllocate</h4>
<pre>public&nbsp;<a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">Decision</a>&nbsp;canAllocate(<a href="../../../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="interface in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;shardRouting,
                   <a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node,
                   <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/RoutingAllocation.html" title="class in org.elasticsearch.cluster.routing.allocation">RoutingAllocation</a>&nbsp;allocation)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html#canAllocate(org.elasticsearch.cluster.routing.ShardRouting,%20org.elasticsearch.cluster.routing.RoutingNode,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">AllocationDecider</a></code></strong></div>
<div class="block">Returns a <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><code>Decision</code></a> whether the given shard routing can be
 allocated on the given node. The default is <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html#ALWAYS"><code>Decision.ALWAYS</code></a>.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html#canAllocate(org.elasticsearch.cluster.routing.ShardRouting,%20org.elasticsearch.cluster.routing.RoutingNode,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">canAllocate</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">AllocationDecider</a></code></dd>
</dl>
</li>
</ul>
<a name="canRemain(org.elasticsearch.cluster.routing.ShardRouting, org.elasticsearch.cluster.routing.RoutingNode, org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>canRemain</h4>
<pre>public&nbsp;<a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">Decision</a>&nbsp;canRemain(<a href="../../../../../../org/elasticsearch/cluster/routing/ShardRouting.html" title="interface in org.elasticsearch.cluster.routing">ShardRouting</a>&nbsp;shardRouting,
                 <a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node,
                 <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/RoutingAllocation.html" title="class in org.elasticsearch.cluster.routing.allocation">RoutingAllocation</a>&nbsp;allocation)</pre>
<div class="block"><strong>Description copied from class:&nbsp;<code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html#canRemain(org.elasticsearch.cluster.routing.ShardRouting,%20org.elasticsearch.cluster.routing.RoutingNode,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">AllocationDecider</a></code></strong></div>
<div class="block">Returns a <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><code>Decision</code></a> whether the given shard routing can be remain
 on the given node. The default is <a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/Decision.html#ALWAYS"><code>Decision.ALWAYS</code></a>.</div>
<dl>
<dt><strong>Overrides:</strong></dt>
<dd><code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html#canRemain(org.elasticsearch.cluster.routing.ShardRouting,%20org.elasticsearch.cluster.routing.RoutingNode,%20org.elasticsearch.cluster.routing.allocation.RoutingAllocation)">canRemain</a></code>&nbsp;in class&nbsp;<code><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/AllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider">AllocationDecider</a></code></dd>
</dl>
</li>
</ul>
<a name="averageUsage(org.elasticsearch.cluster.routing.RoutingNode, java.util.Map)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>averageUsage</h4>
<pre>public&nbsp;<a href="../../../../../../org/elasticsearch/cluster/DiskUsage.html" title="class in org.elasticsearch.cluster">DiskUsage</a>&nbsp;averageUsage(<a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing">RoutingNode</a>&nbsp;node,
                     <a href="http://docs.oracle.com/javase/7/docs/api/java/util/Map.html?is-external=true" title="class or interface in java.util">Map</a>&lt;<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>,<a href="../../../../../../org/elasticsearch/cluster/DiskUsage.html" title="class in org.elasticsearch.cluster">DiskUsage</a>&gt;&nbsp;usages)</pre>
<div class="block">Returns a <a href="../../../../../../org/elasticsearch/cluster/DiskUsage.html" title="class in org.elasticsearch.cluster"><code>DiskUsage</code></a> for the <a href="../../../../../../org/elasticsearch/cluster/routing/RoutingNode.html" title="class in org.elasticsearch.cluster.routing"><code>RoutingNode</code></a> using the
 average usage of other nodes in the disk usage map.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>node</code> - Node to return an averaged DiskUsage object for</dd><dd><code>usages</code> - Map of nodeId to DiskUsage for all known nodes</dd>
<dt><span class="strong">Returns:</span></dt><dd>DiskUsage representing given node using the average disk usage</dd></dl>
</li>
</ul>
<a name="freeDiskPercentageAfterShardAssigned(org.elasticsearch.cluster.DiskUsage, java.lang.Long)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>freeDiskPercentageAfterShardAssigned</h4>
<pre>public&nbsp;double&nbsp;freeDiskPercentageAfterShardAssigned(<a href="../../../../../../org/elasticsearch/cluster/DiskUsage.html" title="class in org.elasticsearch.cluster">DiskUsage</a>&nbsp;usage,
                                          <a href="http://docs.oracle.com/javase/7/docs/api/java/lang/Long.html?is-external=true" title="class or interface in java.lang">Long</a>&nbsp;shardSize)</pre>
<div class="block">Given the DiskUsage for a node and the size of the shard, return the
 percentage of free disk if the shard were to be allocated to the node.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>usage</code> - A DiskUsage for the node to have space computed for</dd><dd><code>shardSize</code> - Size in bytes of the shard</dd>
<dt><span class="strong">Returns:</span></dt><dd>Percentage of free space after the shard is assigned to the node</dd></dl>
</li>
</ul>
<a name="thresholdPercentageFromWatermark(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>thresholdPercentageFromWatermark</h4>
<pre>public&nbsp;double&nbsp;thresholdPercentageFromWatermark(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;watermark)</pre>
<div class="block">Attempts to parse the watermark into a percentage, returning 100.0% if
 it cannot be parsed.</div>
</li>
</ul>
<a name="thresholdBytesFromWatermark(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>thresholdBytesFromWatermark</h4>
<pre>public&nbsp;<a href="../../../../../../org/elasticsearch/common/unit/ByteSizeValue.html" title="class in org.elasticsearch.common.unit">ByteSizeValue</a>&nbsp;thresholdBytesFromWatermark(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;watermark)</pre>
<div class="block">Attempts to parse the watermark into a <a href="../../../../../../org/elasticsearch/common/unit/ByteSizeValue.html" title="class in org.elasticsearch.common.unit"><code>ByteSizeValue</code></a>, returning
 a ByteSizeValue of 0 bytes if the value cannot be parsed.</div>
</li>
</ul>
<a name="validWatermarkSetting(java.lang.String)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>validWatermarkSetting</h4>
<pre>public&nbsp;boolean&nbsp;validWatermarkSetting(<a href="http://docs.oracle.com/javase/7/docs/api/java/lang/String.html?is-external=true" title="class or interface in java.lang">String</a>&nbsp;watermark)</pre>
<div class="block">Checks if a watermark string is a valid percentage or byte size value,
 returning true if valid, false if invalid.</div>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/DiskThresholdDecider.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/DisableAllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../../../org/elasticsearch/cluster/routing/allocation/decider/EnableAllocationDecider.html" title="class in org.elasticsearch.cluster.routing.allocation.decider"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../../../index.html?org/elasticsearch/cluster/routing/allocation/decider/DiskThresholdDecider.html" target="_top">Frames</a></li>
<li><a href="DiskThresholdDecider.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
<p class="legalCopy"><small>Copyright &#169; 2009&#x2013;2015. All rights reserved.</small></p>
</body>
</html>
